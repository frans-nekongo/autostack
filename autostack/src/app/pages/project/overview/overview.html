<div>
  <h2>Project Architecture</h2>
  <div class="flex gap-14 mt-5">
    <div
      class="diagram w-64 h-64 border border-gray-300 rounded-lg flex items-center justify-center overflow-hidden cursor-pointer"
      #mermaidDiagram (click)="openModal()"></div>

    @if (isModalOpen) {
    <div class="modal-backdrop" (click)="closeModal()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-semibold text-gray-900">Architecture Diagram</h2>
          <button (click)="closeModal()" class="text-gray-500 hover:text-gray-700 text-3xl leading-none">
            &times;
          </button>
        </div>
        <div class="diagram-large w-full min-h-[400px] flex justify-center items-center" #mermaidDiagramLarge></div>
      </div>
    </div>
    }

    <div class="flex flex-col gap-5">
      <div class="flex flex-col">
        <p class="text-sm">Version Control</p>
        <div class="flex items-center gap-1">
          <svg width="15" height="15" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M15 4.99996C15.442 4.99996 15.866 4.82436 16.1785 4.5118C16.4911 4.19924 16.6667 3.77532 16.6667 3.33329C16.6667 2.89127 16.4911 2.46734 16.1785 2.15478C15.866 1.84222 15.442 1.66663 15 1.66663C14.558 1.66663 14.1341 1.84222 13.8215 2.15478C13.5089 2.46734 13.3334 2.89127 13.3334 3.33329C13.3334 3.77532 13.5089 4.19924 13.8215 4.5118C14.1341 4.82436 14.558 4.99996 15 4.99996ZM5.83335 4.99996C6.27538 4.99996 6.6993 4.82436 7.01186 4.5118C7.32443 4.19924 7.50002 3.77532 7.50002 3.33329C7.50002 2.89127 7.32443 2.46734 7.01186 2.15478C6.6993 1.84222 6.27538 1.66663 5.83335 1.66663C5.39133 1.66663 4.9674 1.84222 4.65484 2.15478C4.34228 2.46734 4.16669 2.89127 4.16669 3.33329C4.16669 3.77532 4.34228 4.19924 4.65484 4.5118C4.9674 4.82436 5.39133 4.99996 5.83335 4.99996ZM5.83335 18.3333C6.27538 18.3333 6.6993 18.1577 7.01186 17.8451C7.32443 17.5326 7.50002 17.1087 7.50002 16.6666C7.50002 16.2246 7.32443 15.8007 7.01186 15.4881C6.6993 15.1756 6.27538 15 5.83335 15C5.39133 15 4.9674 15.1756 4.65484 15.4881C4.34228 15.8007 4.16669 16.2246 4.16669 16.6666C4.16669 17.1087 4.34228 17.5326 4.65484 17.8451C4.9674 18.1577 5.39133 18.3333 5.83335 18.3333Z"
              stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M5.83337 5V15V13.75C5.83337 10.4167 15 10 15 6.66667V5" stroke="black" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" />
          </svg>

          <p class="font-spaceMono">{{ (currentProject$ | async)?.gitInfo?.branch }}</p>
        </div>
        <div class="flex items-center gap-1">
          <svg width="15" height="15" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M8 10.5C9.38071 10.5 10.5 9.38071 10.5 8C10.5 6.61929 9.38071 5.5 8 5.5C6.61929 5.5 5.5 6.61929 5.5 8C5.5 9.38071 6.61929 10.5 8 10.5ZM8 12C9.95279 12 11.5787 10.6006 11.9298 8.75H15.25H16V7.25H15.25H11.9298C11.5787 5.39935 9.95279 4 8 4C6.04721 4 4.42125 5.39935 4.0702 7.25H0.75H0V8.75H0.75H4.0702C4.42125 10.6006 6.04721 12 8 12Z"
              fill="black" />
          </svg>

          <p class="font-spaceMono">{{ (currentProject$ | async)?.gitInfo?.latestCommit}}</p>
        </div>
      </div>
      <button (click)="openInVSCode()" class="font-spaceMono flex items-center bg-ocean-500 py-1 px-2 rounded gap-2">
        <ng-icon name="diVscodePlain" class=" text-white-900"></ng-icon>
        <p class="text-white-900">VS Code</p>
      </button>
    </div>
  </div>
  <div class="py-5">
    <h2>Description</h2>
    <p>{{ (currentProject$ | async)?.description }}</p>
  </div>
</div>