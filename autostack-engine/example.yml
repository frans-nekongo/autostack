project:
  name: "E-commerce Platform"
  author: "Development Team"
  description: "Scalable e-commerce platform with microservices architecture"
  version: "2.1.0"
  metadata:
    created_date: "2024-01-15"
    last_modified: "2024-03-10"
    tags: ["e-commerce", "microservices", "cloud-native"]
    environment: "production"

technologies:
  postgresql:
    type: "database"
    version: "15.2"
    configuration:
      port: 5432
      ssl_enabled: true
      backup_retention: 30
  
  redis:
    type: "cache"
    version: "7.0"
    configuration:
      port: 6379
      cluster_mode: true
  
  nodejs:
    type: "runtime"
    version: "18.16.0"
  
  react:
    type: "frontend"
    version: "18.2.0"

components:
  - id: "user-db"
    type: "database"
    name: "User Database"
    technology: "postgresql"
    properties:
      description: "Stores user profiles, authentication data"
    
  - id: "product-db"
    type: "database"
    name: "Product Catalog Database"
    technology: "postgresql"
    properties:
      description: "Product information, inventory, pricing"

  # Cache Layer
  - id: "session-cache"
    type: "cache"
    name: "Session Cache"
    technology: "redis"
    properties:
      description: "User session storage and caching"
      ttl: "24h"
      persistence: false

  # APIs and Services
  - id: "auth-service"
    type: "microservice"
    name: "Authentication Service"
    technology: "nodejs"
    properties:
      description: "Handles user authentication and authorization"
      port: 3001

  - id: "product-service"
    type: "microservice"
    name: "Product Service"
    technology: "nodejs"
    properties:
      description: "Product catalog and inventory management"
      port: 3002
    dependencies:
      - component_id: "product-db"
        type: "database_query"
        critical: true
      - component_id: "session-cache"
        type: "cache_access"
        critical: false

  - id: "api-gateway"
    type: "gateway"
    name: "API Gateway"
    technology: "nginx"
    properties:
      description: "Central API gateway for routing and load balancing"
      port: 80
      ssl_termination: true
    routing:
      - path: "/auth/*"
        target: "auth-service"
        timeout: "30s"
      - path: "/products/*"
        target: "product-service"
        timeout: "10s"

  # Frontend
  - id: "web-app"
    type: "ui"
    name: "Customer Web Application"
    technology: "react"
    properties:
      description: "Customer-facing web interface"
      build_output: "static"
    deployment:
      cdn_enabled: true
      gzip_compression: true

  # External Services
  - id: "payment-gateway"
    type: "external_service"
    name: "Stripe Payment Gateway"
    properties:
      description: "External payment processing"
      vendor: "Stripe"
      api_version: "2023-10-16"
      sla: "99.95%"
    security:
      webhook_verification: true
      api_key_rotation: "monthly"

  # Infrastructure
  - id: "load-balancer"
    type: "load_balancer"
    name: "Application Load Balancer"
    technology: "aws-alb"
    properties:
      algorithm: "round_robin"
      health_check_interval: "30s"
      stickiness: false

connections:
  - id: "web-to-gateway"
    source: "web-app"
    target: "api-gateway"
    type: "api_call"
    properties:
      protocol: "https"
      method: ["GET", "POST", "PUT", "DELETE"]
      authentication_required: false
      rate_limit: "1000/min"
      timeout: "30s"

  - id: "gateway-to-auth"
    source: "api-gateway"
    target: "auth-service"
    type: "api_call"
    properties:
      protocol: "http"
      load_balancing: true
      circuit_breaker: true
      retry_policy:
        max_attempts: 3
        backoff_strategy: "exponential"

  - id: "auth-to-cache"
    source: "auth-service"
    target: "session-cache"
    type: "cache_access"
    properties:
      operation_types: ["GET", "SET", "DELETE"]
      connection_pool_size: 10
      timeout: "5s"

  - id: "auth-to-db"
    source: "auth-service"
    target: "user-db"
    type: "database_query"
    properties:
      connection_pool_size: 20
      query_timeout: "30s"
      read_write_split: false
      migrations_enabled: true

  - id: "product-service-to-db"
    source: "product-service"
    target: "product-db"
    type: "database_query"
    properties:
      read_write_split: true
      read_preference: "replica"

  - id: "payment-integration"
    source: "api-gateway"
    target: "payment-gateway"
    type: "api_call"
    properties:
      protocol: "https"
      webhook_endpoint: "/webhooks/stripe"
      idempotency_required: true